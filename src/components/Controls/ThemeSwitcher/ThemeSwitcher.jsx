import { useState } from "react";
import { useEffect } from "react";
import "./ThemeSwitcher.scss"

export const ThemeSwitcher = () => {
    const [theme, setTheme] = useState((window.localStorage.getItem('theme') === 'light') ? 'light' : 'dark');

    const toggleTheme = () => {
        if (theme === 'dark') {
            setTheme('light');
            window.localStorage.setItem('theme', 'light')
        } else {
            setTheme('dark');
            window.localStorage.setItem('theme', 'dark')
        }
    }

    useEffect(() => {
        const root = document.querySelector(':root');
        root.setAttribute('data-theme', `${theme === 'dark' ? 'dark' : 'light'}`)
    }, [theme]);

    return (
        <>
            <button onClick={toggleTheme} className="theme-switcher" data-theme={theme}>
                <svg className="theme-switcher-icon">
                    <svg className="moon" viewBox="15 0 250 250">
                        <Moon />
                        {/* <Moon className={'blur'} /> */}
                    </svg>
                    <svg className="sun" viewBox="-8 -8 530 530">
                        <Sun />
                        {/* <Sun className={'blur'} /> */}
                    </svg>
                </svg>
            </button>
        </>
    );
}

const Moon = ({ className }) => {
    return (
        <path className={className ? className : ''} d="M252,88a12.00028,12.00028,0,0,1-12,12H228v12a12,12,0,0,1-24,0V100H192a12,12,0,0,1,0-24h12V64a12,12,0,0,1,24,0V76h12A12.00028,12.00028,0,0,1,252,88ZM152,52h4v4a12,12,0,0,0,24,0V52h4a12,12,0,0,0,0-24h-4V24a12,12,0,0,0-24,0v4h-4a12,12,0,0,0,0,24Zm76.0459,96.85156a12.0055,12.0055,0,0,1,.13965,7.14356A104.01386,104.01386,0,1,1,99.9375,27.833a12.00423,12.00423,0,0,1,14.91992,14.918,80.03107,80.03107,0,0,0,98.32031,98.41113,12.00513,12.00513,0,0,1,14.86817,7.68945Zm-30.66309,19.00293A103.98165,103.98165,0,0,1,88.14551,58.61719a80.01075,80.01075,0,1,0,109.2373,109.2373Z" />
    )
}

const Sun = ({ className }) => {
    return (
        <>
            <path className={className ? className : ''} d="M495.642,324.649c-15.665-9.534-28.264-21.412-36.986-33.183c-4.353-5.96-7.608-11.706-9.755-17.477
		c-2.164-5.771-3.287-11.566-3.287-17.912v-0.049v-0.09c0-6.361,1.123-12.165,3.287-17.936c2.147-5.754,5.402-11.509,9.755-17.46
		c8.722-11.771,21.321-23.657,36.986-33.191c3.567-2.172,5.173-6.516,3.894-10.468c-1.278-3.959-5.148-6.517-9.287-6.181
		c-3.844,0.304-7.632,0.452-11.37,0.443c-14.017,0.008-27.084-2.124-38.126-5.607c-7.009-2.254-13.001-5.009-18.133-8.394
		c-5.14-3.402-9.451-7.443-13.19-12.567l-0.008-0.008c-3.722-5.132-6.239-10.452-7.895-16.362c-1.664-5.91-2.426-12.452-2.426-19.78
		v-0.106v-0.033c0.098-14.64,3.312-31.7,10.41-48.643c1.624-3.853,0.385-8.28-3-10.755c-3.394-2.459-7.984-2.271-11.156,0.45
		c-13.944,11.977-29.183,20.256-43.086,24.88l0.057-0.016c-7.919,2.582-15.165,3.902-22.018,3.902
		c-5.32-0.008-10.435-0.771-15.682-2.484l-0.017-0.008c-6.008-1.951-11.19-4.787-16.018-8.623c-4.82-3.82-9.296-8.673-13.64-14.632
		c-8.541-11.91-15.985-27.576-20.19-45.43C263.804,2.861,260.181,0,256,0c-4.189,0-7.804,2.861-8.762,6.927
		c-4.197,17.854-11.657,33.52-20.19,45.43c-4.345,5.96-8.821,10.812-13.64,14.632c-4.837,3.836-10.001,6.672-16.01,8.623
		l-0.017,0.008c-5.246,1.713-10.377,2.476-15.689,2.484c-6.845,0-14.084-1.328-22.019-3.902l0.066,0.016
		c-13.927-4.624-29.166-12.903-43.077-24.88c-3.181-2.721-7.779-2.909-11.165-0.45c-3.385,2.475-4.622,6.902-3,10.755
		c7.083,16.944,10.296,33.986,10.41,48.643v0.139c0,7.328-0.778,13.87-2.426,19.78c-1.664,5.91-4.188,11.23-7.91,16.362
		l-0.008,0.008c-3.73,5.124-8.033,9.165-13.173,12.567c-5.131,3.386-11.132,6.14-18.14,8.394c-11.042,3.484-24.1,5.616-38.126,5.616
		c-3.722,0-7.517-0.148-11.362-0.452c-4.148-0.336-8.009,2.222-9.287,6.181c-1.295,3.951,0.32,8.296,3.894,10.468
		c15.657,9.534,28.265,21.42,36.978,33.191c4.345,5.952,7.591,11.706,9.763,17.46c2.164,5.763,3.271,11.55,3.287,17.896v0.107v0.098
		c-0.016,6.344-1.123,12.124-3.287,17.895c-2.172,5.762-5.418,11.509-9.763,17.469l0.033-0.058
		c-8.713,11.78-21.33,23.699-37.011,33.241c-3.574,2.164-5.189,6.517-3.894,10.468c1.278,3.958,5.148,6.525,9.296,6.189
		c3.837-0.311,7.632-0.459,11.362-0.459c14.018,0,27.076,2.14,38.118,5.615c7.008,2.263,13.009,5,18.14,8.394
		c5.14,3.41,9.444,7.443,13.173,12.583h0.008c3.722,5.115,6.246,10.436,7.91,16.354c1.648,5.919,2.426,12.452,2.426,19.788v0.139
		c-0.114,14.657-3.328,31.691-10.41,48.636c-1.622,3.86-0.385,8.288,3,10.754c3.386,2.451,7.984,2.279,11.165-0.45
		c13.903-11.952,29.133-20.248,43.036-24.871c7.927-2.558,15.149-3.902,21.985-3.894c5.32,0,10.443,0.779,15.689,2.492l0.025,0.008
		c6.009,1.942,11.173,4.779,16.018,8.607c4.828,3.844,9.312,8.706,13.656,14.673l-0.041-0.041
		c8.542,11.903,16.01,27.576,20.207,45.447c0.958,4.058,4.574,6.918,8.762,6.918c4.181,0,7.804-2.861,8.764-6.918
		c4.204-17.862,11.648-33.535,20.19-45.438c4.345-5.951,8.82-10.804,13.64-14.64c4.828-3.828,10.009-6.665,16.018-8.607l0.017-0.008
		c5.246-1.713,10.378-2.492,15.682-2.5c6.853,0,14.075,1.344,21.994,3.902c13.902,4.624,29.117,12.92,43.036,24.871
		c3.189,2.73,7.78,2.902,11.173,0.45c3.385-2.467,4.624-6.894,3-10.754c-7.099-16.944-10.312-33.987-10.41-48.636v-0.139
		c0-7.336,0.762-13.87,2.426-19.788c1.656-5.918,4.173-11.239,7.895-16.354h0.008c3.738-5.14,8.05-9.172,13.19-12.583
		c5.132-3.394,11.124-6.131,18.133-8.394c11.042-3.475,24.109-5.615,38.126-5.615c3.73,0,7.526,0.148,11.362,0.459
		c4.148,0.344,8.017-2.23,9.296-6.189z"/>
            <path className={className ? className : ''} d="M256,119.248c-75.53,0-136.748,61.226-136.757,136.757c0.008,75.522,61.226,136.756,136.757,136.756
		c75.539,0,136.757-61.234,136.757-136.756C392.756,180.474,331.538,119.248,256,119.248z M339.268,339.265z"/>
        </>
    )
}